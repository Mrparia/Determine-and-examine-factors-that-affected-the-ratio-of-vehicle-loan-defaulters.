<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>1e978dee9417444384de2b6ab79dc93b</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell code" data-execution_count="64">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span></code></pre></div>
</div>
<div class="cell markdown">
<p>****Importing and Inspecting Data set****</p>
</div>
<div class="cell code" data-execution_count="2">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data<span class="op">=</span> pd.read_excel(<span class="st">&quot;loan data.xlsx&quot;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="3">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="3">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UniqueID</th>
      <th>disbursed_amount</th>
      <th>asset_cost</th>
      <th>ltv</th>
      <th>branch_id</th>
      <th>supplier_id</th>
      <th>manufacturer_id</th>
      <th>Current_pincode_ID</th>
      <th>Date.of.Birth</th>
      <th>Employment.Type</th>
      <th>...</th>
      <th>SEC.SANCTIONED.AMOUNT</th>
      <th>SEC.DISBURSED.AMOUNT</th>
      <th>PRIMARY.INSTAL.AMT</th>
      <th>SEC.INSTAL.AMT</th>
      <th>NEW.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>AVERAGE.ACCT.AGE</th>
      <th>CREDIT.HISTORY.LENGTH</th>
      <th>NO.OF_INQUIRIES</th>
      <th>loan_default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>420825</td>
      <td>50578</td>
      <td>58400</td>
      <td>89.55</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1441</td>
      <td>1984-01-01</td>
      <td>Salaried</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0yrs 0mon</td>
      <td>0yrs 0mon</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>417566</td>
      <td>53278</td>
      <td>61360</td>
      <td>89.63</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1497</td>
      <td>1985-08-24</td>
      <td>Self employed</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0yrs 0mon</td>
      <td>0yrs 0mon</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>539055</td>
      <td>52378</td>
      <td>60300</td>
      <td>88.39</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1495</td>
      <td>1977-12-09</td>
      <td>Self employed</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0yrs 0mon</td>
      <td>0yrs 0mon</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>529269</td>
      <td>46349</td>
      <td>61500</td>
      <td>76.42</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1502</td>
      <td>1988-06-01</td>
      <td>Salaried</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0yrs 0mon</td>
      <td>0yrs 0mon</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>563215</td>
      <td>43594</td>
      <td>78256</td>
      <td>57.50</td>
      <td>67</td>
      <td>22744</td>
      <td>86</td>
      <td>1499</td>
      <td>1994-07-14</td>
      <td>Self employed</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0yrs 0mon</td>
      <td>0yrs 0mon</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 41 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="4">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>data.columns</span></code></pre></div>
<div class="output execute_result" data-execution_count="4">
<pre><code>Index([&#39;UniqueID&#39;, &#39;disbursed_amount&#39;, &#39;asset_cost&#39;, &#39;ltv&#39;, &#39;branch_id&#39;,
       &#39;supplier_id&#39;, &#39;manufacturer_id&#39;, &#39;Current_pincode_ID&#39;, &#39;Date.of.Birth&#39;,
       &#39;Employment.Type&#39;, &#39;DisbursalDate&#39;, &#39;State_ID&#39;, &#39;Employee_code_ID&#39;,
       &#39;MobileNo_Avl_Flag&#39;, &#39;Aadhar_flag&#39;, &#39;PAN_flag&#39;, &#39;VoterID_flag&#39;,
       &#39;Driving_flag&#39;, &#39;Passport_flag&#39;, &#39;PERFORM_CNS.SCORE&#39;,
       &#39;PERFORM_CNS.SCORE.DESCRIPTION&#39;, &#39;PRI.NO.OF.ACCTS&#39;, &#39;PRI.ACTIVE.ACCTS&#39;,
       &#39;PRI.OVERDUE.ACCTS&#39;, &#39;PRI.CURRENT.BALANCE&#39;, &#39;PRI.SANCTIONED.AMOUNT&#39;,
       &#39;PRI.DISBURSED.AMOUNT&#39;, &#39;SEC.NO.OF.ACCTS&#39;, &#39;SEC.ACTIVE.ACCTS&#39;,
       &#39;SEC.OVERDUE.ACCTS&#39;, &#39;SEC.CURRENT.BALANCE&#39;, &#39;SEC.SANCTIONED.AMOUNT&#39;,
       &#39;SEC.DISBURSED.AMOUNT&#39;, &#39;PRIMARY.INSTAL.AMT&#39;, &#39;SEC.INSTAL.AMT&#39;,
       &#39;NEW.ACCTS.IN.LAST.SIX.MONTHS&#39;, &#39;DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS&#39;,
       &#39;AVERAGE.ACCT.AGE&#39;, &#39;CREDIT.HISTORY.LENGTH&#39;, &#39;NO.OF_INQUIRIES&#39;,
       &#39;loan_default&#39;],
      dtype=&#39;object&#39;)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="5">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 233154 entries, 0 to 233153
Data columns (total 41 columns):
 #   Column                               Non-Null Count   Dtype         
---  ------                               --------------   -----         
 0   UniqueID                             233154 non-null  int64         
 1   disbursed_amount                     233154 non-null  int64         
 2   asset_cost                           233154 non-null  int64         
 3   ltv                                  233154 non-null  float64       
 4   branch_id                            233154 non-null  int64         
 5   supplier_id                          233154 non-null  int64         
 6   manufacturer_id                      233154 non-null  int64         
 7   Current_pincode_ID                   233154 non-null  int64         
 8   Date.of.Birth                        233154 non-null  datetime64[ns]
 9   Employment.Type                      225493 non-null  object        
 10  DisbursalDate                        233154 non-null  datetime64[ns]
 11  State_ID                             233154 non-null  int64         
 12  Employee_code_ID                     233154 non-null  int64         
 13  MobileNo_Avl_Flag                    233154 non-null  int64         
 14  Aadhar_flag                          233154 non-null  int64         
 15  PAN_flag                             233154 non-null  int64         
 16  VoterID_flag                         233154 non-null  int64         
 17  Driving_flag                         233154 non-null  int64         
 18  Passport_flag                        233154 non-null  int64         
 19  PERFORM_CNS.SCORE                    233154 non-null  int64         
 20  PERFORM_CNS.SCORE.DESCRIPTION        233154 non-null  object        
 21  PRI.NO.OF.ACCTS                      233154 non-null  int64         
 22  PRI.ACTIVE.ACCTS                     233154 non-null  int64         
 23  PRI.OVERDUE.ACCTS                    233154 non-null  int64         
 24  PRI.CURRENT.BALANCE                  233154 non-null  int64         
 25  PRI.SANCTIONED.AMOUNT                233154 non-null  int64         
 26  PRI.DISBURSED.AMOUNT                 233154 non-null  int64         
 27  SEC.NO.OF.ACCTS                      233154 non-null  int64         
 28  SEC.ACTIVE.ACCTS                     233154 non-null  int64         
 29  SEC.OVERDUE.ACCTS                    233154 non-null  int64         
 30  SEC.CURRENT.BALANCE                  233154 non-null  int64         
 31  SEC.SANCTIONED.AMOUNT                233154 non-null  int64         
 32  SEC.DISBURSED.AMOUNT                 233154 non-null  int64         
 33  PRIMARY.INSTAL.AMT                   233154 non-null  int64         
 34  SEC.INSTAL.AMT                       233154 non-null  int64         
 35  NEW.ACCTS.IN.LAST.SIX.MONTHS         233154 non-null  int64         
 36  DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS  233154 non-null  int64         
 37  AVERAGE.ACCT.AGE                     233154 non-null  object        
 38  CREDIT.HISTORY.LENGTH                233154 non-null  object        
 39  NO.OF_INQUIRIES                      233154 non-null  int64         
 40  loan_default                         233154 non-null  int64         
dtypes: datetime64[ns](2), float64(1), int64(34), object(4)
memory usage: 72.9+ MB
</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong><em>Checking Null Values</em></strong></p>
</div>
<div class="cell code" data-execution_count="6">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data.isnull().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="6">
<pre><code>UniqueID                                  0
disbursed_amount                          0
asset_cost                                0
ltv                                       0
branch_id                                 0
supplier_id                               0
manufacturer_id                           0
Current_pincode_ID                        0
Date.of.Birth                             0
Employment.Type                        7661
DisbursalDate                             0
State_ID                                  0
Employee_code_ID                          0
MobileNo_Avl_Flag                         0
Aadhar_flag                               0
PAN_flag                                  0
VoterID_flag                              0
Driving_flag                              0
Passport_flag                             0
PERFORM_CNS.SCORE                         0
PERFORM_CNS.SCORE.DESCRIPTION             0
PRI.NO.OF.ACCTS                           0
PRI.ACTIVE.ACCTS                          0
PRI.OVERDUE.ACCTS                         0
PRI.CURRENT.BALANCE                       0
PRI.SANCTIONED.AMOUNT                     0
PRI.DISBURSED.AMOUNT                      0
SEC.NO.OF.ACCTS                           0
SEC.ACTIVE.ACCTS                          0
SEC.OVERDUE.ACCTS                         0
SEC.CURRENT.BALANCE                       0
SEC.SANCTIONED.AMOUNT                     0
SEC.DISBURSED.AMOUNT                      0
PRIMARY.INSTAL.AMT                        0
SEC.INSTAL.AMT                            0
NEW.ACCTS.IN.LAST.SIX.MONTHS              0
DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS       0
AVERAGE.ACCT.AGE                          0
CREDIT.HISTORY.LENGTH                     0
NO.OF_INQUIRIES                           0
loan_default                              0
dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown">
<p><em>Missing values found in Employement type column only. As it is
catagorial data, fill the missing values with Mode value using
pandas.</em></p>
</div>
<div class="cell code" data-execution_count="8">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;Employment.Type&#39;</span>].fillna(data[<span class="st">&#39;Employment.Type&#39;</span>].mode()[<span class="dv">0</span>], inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell markdown">
<p><em>verify after fill NA.</em></p>
</div>
<div class="cell code" data-execution_count="9">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data.isnull().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="9">
<pre><code>UniqueID                               0
disbursed_amount                       0
asset_cost                             0
ltv                                    0
branch_id                              0
supplier_id                            0
manufacturer_id                        0
Current_pincode_ID                     0
Date.of.Birth                          0
Employment.Type                        0
DisbursalDate                          0
State_ID                               0
Employee_code_ID                       0
MobileNo_Avl_Flag                      0
Aadhar_flag                            0
PAN_flag                               0
VoterID_flag                           0
Driving_flag                           0
Passport_flag                          0
PERFORM_CNS.SCORE                      0
PERFORM_CNS.SCORE.DESCRIPTION          0
PRI.NO.OF.ACCTS                        0
PRI.ACTIVE.ACCTS                       0
PRI.OVERDUE.ACCTS                      0
PRI.CURRENT.BALANCE                    0
PRI.SANCTIONED.AMOUNT                  0
PRI.DISBURSED.AMOUNT                   0
SEC.NO.OF.ACCTS                        0
SEC.ACTIVE.ACCTS                       0
SEC.OVERDUE.ACCTS                      0
SEC.CURRENT.BALANCE                    0
SEC.SANCTIONED.AMOUNT                  0
SEC.DISBURSED.AMOUNT                   0
PRIMARY.INSTAL.AMT                     0
SEC.INSTAL.AMT                         0
NEW.ACCTS.IN.LAST.SIX.MONTHS           0
DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS    0
AVERAGE.ACCT.AGE                       0
CREDIT.HISTORY.LENGTH                  0
NO.OF_INQUIRIES                        0
loan_default                           0
dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="10">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="10">
<pre><code>(233154, 41)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="11">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 233154 entries, 0 to 233153
Data columns (total 41 columns):
 #   Column                               Non-Null Count   Dtype         
---  ------                               --------------   -----         
 0   UniqueID                             233154 non-null  int64         
 1   disbursed_amount                     233154 non-null  int64         
 2   asset_cost                           233154 non-null  int64         
 3   ltv                                  233154 non-null  float64       
 4   branch_id                            233154 non-null  int64         
 5   supplier_id                          233154 non-null  int64         
 6   manufacturer_id                      233154 non-null  int64         
 7   Current_pincode_ID                   233154 non-null  int64         
 8   Date.of.Birth                        233154 non-null  datetime64[ns]
 9   Employment.Type                      233154 non-null  object        
 10  DisbursalDate                        233154 non-null  datetime64[ns]
 11  State_ID                             233154 non-null  int64         
 12  Employee_code_ID                     233154 non-null  int64         
 13  MobileNo_Avl_Flag                    233154 non-null  int64         
 14  Aadhar_flag                          233154 non-null  int64         
 15  PAN_flag                             233154 non-null  int64         
 16  VoterID_flag                         233154 non-null  int64         
 17  Driving_flag                         233154 non-null  int64         
 18  Passport_flag                        233154 non-null  int64         
 19  PERFORM_CNS.SCORE                    233154 non-null  int64         
 20  PERFORM_CNS.SCORE.DESCRIPTION        233154 non-null  object        
 21  PRI.NO.OF.ACCTS                      233154 non-null  int64         
 22  PRI.ACTIVE.ACCTS                     233154 non-null  int64         
 23  PRI.OVERDUE.ACCTS                    233154 non-null  int64         
 24  PRI.CURRENT.BALANCE                  233154 non-null  int64         
 25  PRI.SANCTIONED.AMOUNT                233154 non-null  int64         
 26  PRI.DISBURSED.AMOUNT                 233154 non-null  int64         
 27  SEC.NO.OF.ACCTS                      233154 non-null  int64         
 28  SEC.ACTIVE.ACCTS                     233154 non-null  int64         
 29  SEC.OVERDUE.ACCTS                    233154 non-null  int64         
 30  SEC.CURRENT.BALANCE                  233154 non-null  int64         
 31  SEC.SANCTIONED.AMOUNT                233154 non-null  int64         
 32  SEC.DISBURSED.AMOUNT                 233154 non-null  int64         
 33  PRIMARY.INSTAL.AMT                   233154 non-null  int64         
 34  SEC.INSTAL.AMT                       233154 non-null  int64         
 35  NEW.ACCTS.IN.LAST.SIX.MONTHS         233154 non-null  int64         
 36  DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS  233154 non-null  int64         
 37  AVERAGE.ACCT.AGE                     233154 non-null  object        
 38  CREDIT.HISTORY.LENGTH                233154 non-null  object        
 39  NO.OF_INQUIRIES                      233154 non-null  int64         
 40  loan_default                         233154 non-null  int64         
dtypes: datetime64[ns](2), float64(1), int64(34), object(4)
memory usage: 72.9+ MB
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="12">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data.dtypes</span></code></pre></div>
<div class="output execute_result" data-execution_count="12">
<pre><code>UniqueID                                        int64
disbursed_amount                                int64
asset_cost                                      int64
ltv                                           float64
branch_id                                       int64
supplier_id                                     int64
manufacturer_id                                 int64
Current_pincode_ID                              int64
Date.of.Birth                          datetime64[ns]
Employment.Type                                object
DisbursalDate                          datetime64[ns]
State_ID                                        int64
Employee_code_ID                                int64
MobileNo_Avl_Flag                               int64
Aadhar_flag                                     int64
PAN_flag                                        int64
VoterID_flag                                    int64
Driving_flag                                    int64
Passport_flag                                   int64
PERFORM_CNS.SCORE                               int64
PERFORM_CNS.SCORE.DESCRIPTION                  object
PRI.NO.OF.ACCTS                                 int64
PRI.ACTIVE.ACCTS                                int64
PRI.OVERDUE.ACCTS                               int64
PRI.CURRENT.BALANCE                             int64
PRI.SANCTIONED.AMOUNT                           int64
PRI.DISBURSED.AMOUNT                            int64
SEC.NO.OF.ACCTS                                 int64
SEC.ACTIVE.ACCTS                                int64
SEC.OVERDUE.ACCTS                               int64
SEC.CURRENT.BALANCE                             int64
SEC.SANCTIONED.AMOUNT                           int64
SEC.DISBURSED.AMOUNT                            int64
PRIMARY.INSTAL.AMT                              int64
SEC.INSTAL.AMT                                  int64
NEW.ACCTS.IN.LAST.SIX.MONTHS                    int64
DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS             int64
AVERAGE.ACCT.AGE                               object
CREDIT.HISTORY.LENGTH                          object
NO.OF_INQUIRIES                                 int64
loan_default                                    int64
dtype: object</code></pre>
</div>
</div>
<section id="performing-eda" class="cell markdown">
<h3>Performing EDA</h3>
</section>
<div class="cell code" data-execution_count="13">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data.describe()</span></code></pre></div>
<div class="output execute_result" data-execution_count="13">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UniqueID</th>
      <th>disbursed_amount</th>
      <th>asset_cost</th>
      <th>ltv</th>
      <th>branch_id</th>
      <th>supplier_id</th>
      <th>manufacturer_id</th>
      <th>Current_pincode_ID</th>
      <th>State_ID</th>
      <th>Employee_code_ID</th>
      <th>...</th>
      <th>SEC.OVERDUE.ACCTS</th>
      <th>SEC.CURRENT.BALANCE</th>
      <th>SEC.SANCTIONED.AMOUNT</th>
      <th>SEC.DISBURSED.AMOUNT</th>
      <th>PRIMARY.INSTAL.AMT</th>
      <th>SEC.INSTAL.AMT</th>
      <th>NEW.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>NO.OF_INQUIRIES</th>
      <th>loan_default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>2.331540e+05</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>...</td>
      <td>233154.000000</td>
      <td>2.331540e+05</td>
      <td>2.331540e+05</td>
      <td>2.331540e+05</td>
      <td>2.331540e+05</td>
      <td>2.331540e+05</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
      <td>233154.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>535917.573376</td>
      <td>54356.993528</td>
      <td>7.586507e+04</td>
      <td>74.746530</td>
      <td>72.936094</td>
      <td>19638.635035</td>
      <td>69.028054</td>
      <td>3396.880247</td>
      <td>7.262243</td>
      <td>1549.477148</td>
      <td>...</td>
      <td>0.007244</td>
      <td>5.427793e+03</td>
      <td>7.295923e+03</td>
      <td>7.179998e+03</td>
      <td>1.310548e+04</td>
      <td>3.232684e+02</td>
      <td>0.381833</td>
      <td>0.097481</td>
      <td>0.206615</td>
      <td>0.217071</td>
    </tr>
    <tr>
      <th>std</th>
      <td>68315.693711</td>
      <td>12971.314171</td>
      <td>1.894478e+04</td>
      <td>11.456636</td>
      <td>69.834995</td>
      <td>3491.949566</td>
      <td>22.141304</td>
      <td>2238.147502</td>
      <td>4.482230</td>
      <td>975.261278</td>
      <td>...</td>
      <td>0.111079</td>
      <td>1.702370e+05</td>
      <td>1.831560e+05</td>
      <td>1.825925e+05</td>
      <td>1.513679e+05</td>
      <td>1.555369e+04</td>
      <td>0.955107</td>
      <td>0.384439</td>
      <td>0.706498</td>
      <td>0.412252</td>
    </tr>
    <tr>
      <th>min</th>
      <td>417428.000000</td>
      <td>13320.000000</td>
      <td>3.700000e+04</td>
      <td>10.030000</td>
      <td>1.000000</td>
      <td>10524.000000</td>
      <td>45.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>-5.746470e+05</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>476786.250000</td>
      <td>47145.000000</td>
      <td>6.571700e+04</td>
      <td>68.880000</td>
      <td>14.000000</td>
      <td>16535.000000</td>
      <td>48.000000</td>
      <td>1511.000000</td>
      <td>4.000000</td>
      <td>713.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>535978.500000</td>
      <td>53803.000000</td>
      <td>7.094600e+04</td>
      <td>76.800000</td>
      <td>61.000000</td>
      <td>20333.000000</td>
      <td>86.000000</td>
      <td>2970.000000</td>
      <td>6.000000</td>
      <td>1451.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>595039.750000</td>
      <td>60413.000000</td>
      <td>7.920175e+04</td>
      <td>83.670000</td>
      <td>130.000000</td>
      <td>23000.000000</td>
      <td>86.000000</td>
      <td>5677.000000</td>
      <td>10.000000</td>
      <td>2362.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>1.999000e+03</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>671084.000000</td>
      <td>990572.000000</td>
      <td>1.628992e+06</td>
      <td>95.000000</td>
      <td>261.000000</td>
      <td>24803.000000</td>
      <td>156.000000</td>
      <td>7345.000000</td>
      <td>22.000000</td>
      <td>3795.000000</td>
      <td>...</td>
      <td>8.000000</td>
      <td>3.603285e+07</td>
      <td>3.000000e+07</td>
      <td>3.000000e+07</td>
      <td>2.564281e+07</td>
      <td>4.170901e+06</td>
      <td>35.000000</td>
      <td>20.000000</td>
      <td>36.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
<p>8 rows × 35 columns</p>
</div>
</div>
</div>
<div class="cell markdown">
<p><strong>Checking the overall distribution of variables</strong></p>
</div>
<div class="cell code" data-execution_count="20">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(data[<span class="st">&quot;loan_default&quot;</span>])</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/_decorators.py:43: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  FutureWarning
</code></pre>
</div>
<div class="output execute_result" data-execution_count="20">
<pre><code>&lt;AxesSubplot:xlabel=&#39;loan_default&#39;, ylabel=&#39;count&#39;&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/0f6669ee3e32cb50a883f20ead2325aa91766a17.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="15">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> [<span class="st">&#39;branch_id&#39;</span>,<span class="st">&#39;Current_pincode_ID&#39;</span>,<span class="st">&#39;State_ID&#39;</span>,<span class="st">&#39;supplier_id&#39;</span>,<span class="st">&#39;manufacturer_id&#39;</span>]:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    ct <span class="op">=</span> pd.crosstab(data[i],data[<span class="st">&#39;loan_default&#39;</span>])</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    ct.plot.bar(stacked <span class="op">=</span> <span class="va">True</span>,figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">7</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    plt.legend(labels<span class="op">=</span>[<span class="st">&#39;Not Defaulted&#39;</span>,<span class="st">&#39;Defaulted&#39;</span>])</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/b57d34fe5fb934c11a821793fff325f313c289e8.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/ce4e8f6d8bdafc053b4e9abb0c5568a204743983.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/8c607cb73721005ee511db9449b379b961c68121.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/d511e80537b4577001db32ce1acb90c03d34367d.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/7d408220adce6d184e40bc05f3fcba069ed1ca78.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>Finding the different types of employment given in the
data</strong></p>
</div>
<div class="cell code" data-execution_count="19">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;Employment.Type&#39;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<pre><code>Self employed    135296
Salaried          97858
Name: Employment.Type, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong>Pie Chart</strong></p>
</div>
<div class="cell code" data-execution_count="21">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&#39;Self employed&#39;</span>, <span class="st">&#39;Salaried&#39;</span>]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">=</span> data[<span class="st">&#39;Employment.Type&#39;</span>].value_counts()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>fig1, ax1 <span class="op">=</span> plt.subplots()</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>ax1.pie(sizes, labels<span class="op">=</span>labels, autopct<span class="op">=</span><span class="st">&#39;</span><span class="sc">%1.1f%%</span><span class="st">&#39;</span>, shadow<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>ax1.axis(<span class="st">&#39;equal&#39;</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/d39d688045e2017e1f74f6072f39cb07135f16eb.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="23">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>pct_loan_default <span class="op">=</span> data[<span class="st">&#39;loan_default&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>pct_loan_default</span></code></pre></div>
<div class="output execute_result" data-execution_count="23">
<pre><code>0    78.292888
1    21.707112
Name: loan_default, dtype: float64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="28">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;</span><span class="sc">% o</span><span class="st">f salaried customer only who have defaulted:&#39;</span>,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>     np.<span class="bu">round</span>(data[(data[<span class="st">&#39;Employment.Type&#39;</span>]<span class="op">==</span><span class="st">&#39;Salaried&#39;</span>) </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                       <span class="op">&amp;</span> (data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">1</span>)].shape[<span class="dv">0</span>]<span class="op">/</span>(data[data[<span class="st">&#39;Employment.Type&#39;</span>]<span class="op">==</span><span class="st">&#39;Salaried&#39;</span>].shape[<span class="dv">0</span>])<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>% of salaried customer only who have defaulted: 20.35
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="30">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;</span><span class="sc">% o</span><span class="st">f self employed customer only who have defaulted:&#39;</span>,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>     np.<span class="bu">round</span>(data[(data[<span class="st">&#39;Employment.Type&#39;</span>]<span class="op">==</span><span class="st">&#39;Self employed&#39;</span>) </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                       <span class="op">&amp;</span> (data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">1</span>)].shape[<span class="dv">0</span>]<span class="op">/</span>(data[data[<span class="st">&#39;Employment.Type&#39;</span>]<span class="op">==</span><span class="st">&#39;Self employed&#39;</span>].shape[<span class="dv">0</span>])<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>% of self employed customer only who have defaulted: 22.69
</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong>Bar Chart to draw the employment vs loan default</strong></p>
</div>
<div class="cell code" data-execution_count="32">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;Employment.Type&#39;</span>,hue<span class="op">=</span><span class="st">&#39;loan_default&#39;</span>,data<span class="op">=</span>data)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Employment Bar Graph&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="32">
<pre><code>Text(0.5, 1.0, &#39;Employment Bar Graph&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/5150ea5e80560a0ac44e11335643e829156c7194.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="34">
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>loan<span class="op">=</span>pd.crosstab(data[<span class="st">&#39;Employment.Type&#39;</span>],data[<span class="st">&#39;loan_default&#39;</span>])</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>loan</span></code></pre></div>
<div class="output execute_result" data-execution_count="34">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>loan_default</th>
      <th>0</th>
      <th>1</th>
    </tr>
    <tr>
      <th>Employment.Type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Salaried</th>
      <td>77948</td>
      <td>19910</td>
    </tr>
    <tr>
      <th>Self employed</th>
      <td>104595</td>
      <td>30701</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="35">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>loan.groupby([<span class="st">&#39;Employment.Type&#39;</span>]).<span class="bu">sum</span>().plot(kind<span class="op">=</span><span class="st">&#39;pie&#39;</span>, subplots<span class="op">=</span><span class="va">True</span>, shadow <span class="op">=</span> <span class="va">True</span>,startangle<span class="op">=</span><span class="dv">90</span>,</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>), autopct<span class="op">=</span><span class="st">&#39;</span><span class="sc">%1.1f%%</span><span class="st">&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="35">
<pre><code>array([&lt;AxesSubplot:ylabel=&#39;0&#39;&gt;, &lt;AxesSubplot:ylabel=&#39;1&#39;&gt;], dtype=object)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/321d56ce44b1f5c1783dbc242c061ca2debc3100.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>Distribution of age w.r.t. to defaulters and
non-defaulters</strong></p>
</div>
<div class="cell code" data-execution_count="37">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;age&#39;</span>] <span class="op">=</span> pd.DatetimeIndex(data[<span class="st">&#39;DisbursalDate&#39;</span>]).year <span class="op">-</span> pd.DatetimeIndex(data[<span class="st">&#39;Date.of.Birth&#39;</span>]).year</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="41">
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;age&#39;</span>].plot.hist()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Age Histogram&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="41">
<pre><code>Text(0.5, 1.0, &#39;Age Histogram&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/b529b9ac92eadeb20aff1b4ba8a64f9e236220ce.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="42">
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>data.age.describe()</span></code></pre></div>
<div class="output execute_result" data-execution_count="42">
<pre><code>count    233154.000000
mean         34.100946
std           9.805992
min          18.000000
25%          26.000000
50%          32.000000
75%          41.000000
max          69.000000
Name: age, dtype: float64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="43">
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sns.distplot(data[<span class="st">&quot;age&quot;</span>],bins<span class="op">=</span><span class="dv">5</span>)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</code></pre>
</div>
<div class="output execute_result" data-execution_count="43">
<pre><code>&lt;AxesSubplot:xlabel=&#39;age&#39;, ylabel=&#39;Density&#39;&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/a914d20333b7e1fd2e24235d73d3095a7273edf9.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="44">
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">&#39;loan_default&#39;</span>, y<span class="op">=</span><span class="st">&#39;age&#39;</span>,data<span class="op">=</span>data)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Age BoxPlot&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="44">
<pre><code>Text(0.5, 1.0, &#39;Age BoxPlot&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/26b8decd88aa571fcd9540a22063ac76c578e889.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>Finding the type of ID was presented by most of the customers
for proof</strong></p>
</div>
<div class="cell code" data-execution_count="45">
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;MobileNo_Avl_Flag&quot;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="45">
<pre><code>1    233154
Name: MobileNo_Avl_Flag, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="46">
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;Aadhar_flag&quot;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="46">
<pre><code>1    195924
0     37230
Name: Aadhar_flag, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="47">
<div class="sourceCode" id="cb52"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;PAN_flag&quot;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="47">
<pre><code>0    215533
1     17621
Name: PAN_flag, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="48">
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;VoterID_flag&quot;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="48">
<pre><code>0    199360
1     33794
Name: VoterID_flag, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="49">
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;Passport_flag&quot;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="49">
<pre><code>0    232658
1       496
Name: Passport_flag, dtype: int64</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong>-----&gt;most of the users given Aadhar as their
ID</strong></p>
</div>
<div class="cell markdown">
<p><strong><em>Credit bureau score distribution</em></strong></p>
</div>
<div class="cell code" data-execution_count="53">
<div class="sourceCode" id="cb58"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;PERFORM_CNS.SCORE&quot;</span>].describe()</span></code></pre></div>
<div class="output execute_result" data-execution_count="53">
<pre><code>count    233154.000000
mean        289.462994
std         338.374779
min           0.000000
25%           0.000000
50%           0.000000
75%         678.000000
max         890.000000
Name: PERFORM_CNS.SCORE, dtype: float64</code></pre>
</div>
</div>
<div class="cell markdown">
<p><em>Distribution for defaulters vs non-defaulters</em></p>
</div>
<div class="cell code" data-execution_count="55">
<div class="sourceCode" id="cb60"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>non_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">0</span>][<span class="st">&#39;PERFORM_CNS.SCORE&#39;</span>]</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">1</span>][<span class="st">&#39;PERFORM_CNS.SCORE&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="56">
<div class="sourceCode" id="cb61"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame([non_default.describe(), default.describe()], index<span class="op">=</span>[<span class="st">&#39;non_defaulters&#39;</span>,<span class="st">&#39;defaulters&#39;</span>])</span></code></pre></div>
<div class="output execute_result" data-execution_count="56">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>non_defaulters</th>
      <td>182543.0</td>
      <td>299.784270</td>
      <td>342.883794</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>15.0</td>
      <td>690.0</td>
      <td>890.0</td>
    </tr>
    <tr>
      <th>defaulters</th>
      <td>50611.0</td>
      <td>252.236372</td>
      <td>318.826242</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>610.0</td>
      <td>879.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="66">
<div class="sourceCode" id="cb62"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>sns.distplot( a <span class="op">=</span> non_default, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, label <span class="op">=</span> <span class="st">&#39;Non Defaulter&#39;</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>sns.distplot(a <span class="op">=</span> default, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, label <span class="op">=</span> <span class="st">&#39;Defaulter&#39;</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/2f6174d125b7980bda63b9865420ea62ced4aaf0.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>****Finding whether there is difference between the sanctioned and
disbursed amount of primary and secondary loans(T-test)****</p>
</div>
<div class="cell markdown">
<p><strong>For Primary accounts</strong></p>
</div>
<div class="cell code" data-execution_count="70">
<div class="sourceCode" id="cb64"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>_,p_value<span class="op">=</span>stats.ttest_rel(a<span class="op">=</span>data[<span class="st">&quot;PRI.SANCTIONED.AMOUNT&quot;</span>],b<span class="op">=</span>data[<span class="st">&quot;PRI.DISBURSED.AMOUNT&quot;</span>])</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="71">
<div class="sourceCode" id="cb65"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(p_value)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>0.07550682707997997
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="72">
<div class="sourceCode" id="cb67"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> p_value<span class="op">&lt;</span><span class="fl">0.05</span>:</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Rejected,There is significant difference between primary loan sanctioned and disbursed&quot;</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Accepted,There is no significant difference between primary loan sanctioned and disbursed&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Accepted,There is no significant difference between primary loan sanctioned and disbursed
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="73">
<div class="sourceCode" id="cb69"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;pri_diff_sanc_dis&quot;</span>]<span class="op">=</span>data[<span class="st">&quot;PRI.SANCTIONED.AMOUNT&quot;</span>]<span class="op">-</span>data[<span class="st">&quot;PRI.DISBURSED.AMOUNT&quot;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="74">
<div class="sourceCode" id="cb70"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;pri_diff_sanc_dis&quot;</span>].<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="74">
<pre><code>102111349</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="88">
<div class="sourceCode" id="cb72"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;PRI.NO.OF.ACCTS&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">5</span>,<span class="dv">2</span>))</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/b6bbfa39127019f6ccd3818b224d4bc5425dd4f0.png" /></p>
</div>
<div class="output display_data">
<pre><code>&lt;Figure size 360x144 with 0 Axes&gt;</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="81">
<div class="sourceCode" id="cb74"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>pri_non_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">0</span>][<span class="st">&#39;PRI.NO.OF.ACCTS&#39;</span>]</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>pri_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">1</span>][<span class="st">&#39;PRI.NO.OF.ACCTS&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="82">
<div class="sourceCode" id="cb75"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame([pri_non_default.describe(), pri_default.describe()], index<span class="op">=</span>[<span class="st">&#39;non_defaulters&#39;</span>,<span class="st">&#39;defaulters&#39;</span>])</span></code></pre></div>
<div class="output execute_result" data-execution_count="82">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>non_defaulters</th>
      <td>182543.0</td>
      <td>2.538038</td>
      <td>5.261142</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>354.0</td>
    </tr>
    <tr>
      <th>defaulters</th>
      <td>50611.0</td>
      <td>2.089328</td>
      <td>5.040134</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>453.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p><em>Checking the correlation between primary and loan deafult
vairable</em></p>
</div>
<div class="cell code" data-execution_count="87">
<div class="sourceCode" id="cb76"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>sns.heatmap(data[[<span class="st">&#39;PRI.NO.OF.ACCTS&#39;</span>,<span class="st">&#39;loan_default&#39;</span>]].corr(),annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/dddb08805eaf065e3fc2b68edb2930772442c1c7.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><em>difference between the sanctioned and disbursed amount of primary
loans</em></p>
</div>
<div class="cell code" data-execution_count="89">
<div class="sourceCode" id="cb77"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>pri_acct_loan_amt <span class="op">=</span>[<span class="st">&#39;PRI.SANCTIONED.AMOUNT&#39;</span>, <span class="st">&#39;PRI.DISBURSED.AMOUNT&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="90">
<div class="sourceCode" id="cb78"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">10</span>))</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> pri_acct_loan_amt:</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">2</span>,<span class="dv">2</span>,count)</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    sns.distplot(data[i])</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/bc033d27b2ead3f0a98ceb16e0961d16e6fb8fe7.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>For Secondary accounts</strong></p>
</div>
<div class="cell code" data-execution_count="75">
<div class="sourceCode" id="cb80"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>_,p_value<span class="op">=</span>stats.ttest_rel(a<span class="op">=</span>data[<span class="st">&quot;SEC.SANCTIONED.AMOUNT&quot;</span>],b<span class="op">=</span>data[<span class="st">&quot;SEC.DISBURSED.AMOUNT&quot;</span>])</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="76">
<div class="sourceCode" id="cb81"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(p_value)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>2.8873358771164625e-30
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="77">
<div class="sourceCode" id="cb83"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> p_value<span class="op">&lt;</span><span class="fl">0.05</span>:</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Rejected,There is significant difference between secondary loan sanctioned and disbursed&quot;</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Accepted,There is no significant difference between secondary loan sanctioned and disbursed&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Rejected,There is significant difference between secondary loan sanctioned and disbursed
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="78">
<div class="sourceCode" id="cb85"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;sec_diff_sanc_dis&quot;</span>]<span class="op">=</span>data[<span class="st">&quot;SEC.SANCTIONED.AMOUNT&quot;</span>]<span class="op">-</span>data[<span class="st">&quot;SEC.DISBURSED.AMOUNT&quot;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="79">
<div class="sourceCode" id="cb86"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;sec_diff_sanc_dis&quot;</span>].<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="79">
<pre><code>27028488</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="85">
<div class="sourceCode" id="cb88"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;SEC.NO.OF.ACCTS&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/4fad5626db9fda6cd9163c41eeb80bf1fe5cf941.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><em>Checking the correlation between seceondary and loan deafult
vairable</em></p>
</div>
<div class="cell code" data-execution_count="83">
<div class="sourceCode" id="cb89"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>sec_non_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">0</span>][<span class="st">&#39;SEC.NO.OF.ACCTS&#39;</span>]</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>sec_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>]<span class="op">==</span><span class="dv">1</span>][<span class="st">&#39;SEC.NO.OF.ACCTS&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="84">
<div class="sourceCode" id="cb90"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame([sec_non_default.describe(), sec_default.describe()], index<span class="op">=</span>[<span class="st">&#39;non_defaulters&#39;</span>,<span class="st">&#39;defaulters&#39;</span>])</span></code></pre></div>
<div class="output execute_result" data-execution_count="84">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>non_defaulters</th>
      <td>182543.0</td>
      <td>0.061848</td>
      <td>0.651657</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>52.0</td>
    </tr>
    <tr>
      <th>defaulters</th>
      <td>50611.0</td>
      <td>0.049100</td>
      <td>0.527358</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>38.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="86">
<div class="sourceCode" id="cb91"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>sns.heatmap(data[[<span class="st">&#39;SEC.NO.OF.ACCTS&#39;</span>,<span class="st">&#39;loan_default&#39;</span>]].corr(),annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/31066ad8ab7b7b2c2596c28ee1ea66579de7868f.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><em>difference between the sanctioned and disbursed amount of
secondary loans</em></p>
</div>
<div class="cell code" data-execution_count="91">
<div class="sourceCode" id="cb92"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>sec_acct_loan_amt <span class="op">=</span>[<span class="st">&#39;SEC.SANCTIONED.AMOUNT&#39;</span>, <span class="st">&#39;SEC.DISBURSED.AMOUNT&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="92">
<div class="sourceCode" id="cb93"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>count<span class="op">=</span><span class="dv">1</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">10</span>))</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> sec_acct_loan_amt:</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">2</span>,<span class="dv">2</span>,count)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    sns.distplot(data[i])</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>    count<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/77dbb3fdf4c744799b3c61d0cefc68b45fb7b7f7.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>customer who make higher no. of enquiries end up being higher
risk candidates</strong></p>
</div>
<div class="cell code" data-execution_count="94">
<div class="sourceCode" id="cb95"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>enquiries_counts <span class="op">=</span> data[<span class="st">&#39;NO.OF_INQUIRIES&#39;</span>].value_counts()</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>enquiries_counts_percent <span class="op">=</span> data[<span class="st">&#39;NO.OF_INQUIRIES&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">&#39;counts&#39;</span>:enquiries_counts,<span class="st">&#39;(%) Percent_Of_Data&#39;</span>:enquiries_counts_percent})</span></code></pre></div>
<div class="output execute_result" data-execution_count="94">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>counts</th>
      <th>(%) Percent_Of_Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>201961</td>
      <td>86.621289</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22285</td>
      <td>9.558060</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5409</td>
      <td>2.319926</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1767</td>
      <td>0.757868</td>
    </tr>
    <tr>
      <th>4</th>
      <td>760</td>
      <td>0.325965</td>
    </tr>
    <tr>
      <th>5</th>
      <td>343</td>
      <td>0.147113</td>
    </tr>
    <tr>
      <th>6</th>
      <td>239</td>
      <td>0.102507</td>
    </tr>
    <tr>
      <th>7</th>
      <td>135</td>
      <td>0.057902</td>
    </tr>
    <tr>
      <th>8</th>
      <td>105</td>
      <td>0.045035</td>
    </tr>
    <tr>
      <th>9</th>
      <td>44</td>
      <td>0.018872</td>
    </tr>
    <tr>
      <th>10</th>
      <td>34</td>
      <td>0.014583</td>
    </tr>
    <tr>
      <th>11</th>
      <td>15</td>
      <td>0.006434</td>
    </tr>
    <tr>
      <th>12</th>
      <td>14</td>
      <td>0.006005</td>
    </tr>
    <tr>
      <th>14</th>
      <td>8</td>
      <td>0.003431</td>
    </tr>
    <tr>
      <th>15</th>
      <td>7</td>
      <td>0.003002</td>
    </tr>
    <tr>
      <th>13</th>
      <td>6</td>
      <td>0.002573</td>
    </tr>
    <tr>
      <th>19</th>
      <td>6</td>
      <td>0.002573</td>
    </tr>
    <tr>
      <th>17</th>
      <td>4</td>
      <td>0.001716</td>
    </tr>
    <tr>
      <th>18</th>
      <td>4</td>
      <td>0.001716</td>
    </tr>
    <tr>
      <th>16</th>
      <td>3</td>
      <td>0.001287</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>36</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="95">
<div class="sourceCode" id="cb96"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>no_of_loan_inquiries <span class="op">=</span> pd.crosstab(index<span class="op">=</span>data[<span class="st">&#39;NO.OF_INQUIRIES&#39;</span>], columns<span class="op">=</span>data[<span class="st">&#39;loan_default&#39;</span>])</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>no_of_loan_inquiries[<span class="st">&#39;pct_default&#39;</span>] <span class="op">=</span> (no_of_loan_inquiries[<span class="dv">1</span>]<span class="op">/</span>no_of_loan_inquiries.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>))<span class="op">*</span><span class="dv">100</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>no_of_loan_inquiries</span></code></pre></div>
<div class="output execute_result" data-execution_count="95">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>loan_default</th>
      <th>0</th>
      <th>1</th>
      <th>pct_default</th>
    </tr>
    <tr>
      <th>NO.OF_INQUIRIES</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>159404</td>
      <td>42557</td>
      <td>21.071890</td>
    </tr>
    <tr>
      <th>1</th>
      <td>16844</td>
      <td>5441</td>
      <td>24.415526</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3918</td>
      <td>1491</td>
      <td>27.565169</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1250</td>
      <td>517</td>
      <td>29.258630</td>
    </tr>
    <tr>
      <th>4</th>
      <td>526</td>
      <td>234</td>
      <td>30.789474</td>
    </tr>
    <tr>
      <th>5</th>
      <td>212</td>
      <td>131</td>
      <td>38.192420</td>
    </tr>
    <tr>
      <th>6</th>
      <td>148</td>
      <td>91</td>
      <td>38.075314</td>
    </tr>
    <tr>
      <th>7</th>
      <td>80</td>
      <td>55</td>
      <td>40.740741</td>
    </tr>
    <tr>
      <th>8</th>
      <td>61</td>
      <td>44</td>
      <td>41.904762</td>
    </tr>
    <tr>
      <th>9</th>
      <td>30</td>
      <td>14</td>
      <td>31.818182</td>
    </tr>
    <tr>
      <th>10</th>
      <td>23</td>
      <td>11</td>
      <td>32.352941</td>
    </tr>
    <tr>
      <th>11</th>
      <td>8</td>
      <td>7</td>
      <td>46.666667</td>
    </tr>
    <tr>
      <th>12</th>
      <td>10</td>
      <td>4</td>
      <td>28.571429</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2</td>
      <td>4</td>
      <td>66.666667</td>
    </tr>
    <tr>
      <th>14</th>
      <td>6</td>
      <td>2</td>
      <td>25.000000</td>
    </tr>
    <tr>
      <th>15</th>
      <td>3</td>
      <td>4</td>
      <td>57.142857</td>
    </tr>
    <tr>
      <th>16</th>
      <td>3</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>17</th>
      <td>4</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2</td>
      <td>2</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>19</th>
      <td>4</td>
      <td>2</td>
      <td>33.333333</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>36</th>
      <td>1</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p><em>credit history, i.e. new loans in last six months, loans
defaulted in last six months, time since first loan, etc., a significant
factor in estimating probability</em></p>
</div>
<div class="cell code" data-execution_count="96">
<div class="sourceCode" id="cb97"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> duration(dur):</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>    yrs <span class="op">=</span> <span class="bu">int</span>(dur.split(<span class="st">&#39; &#39;</span>)[<span class="dv">0</span>].replace(<span class="st">&#39;yrs&#39;</span>,<span class="st">&#39;&#39;</span>))</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>    mon <span class="op">=</span> <span class="bu">int</span>(dur.split(<span class="st">&#39; &#39;</span>)[<span class="dv">1</span>].replace(<span class="st">&#39;mon&#39;</span>,<span class="st">&#39;&#39;</span>))</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> yrs<span class="op">*</span><span class="dv">12</span><span class="op">+</span>mon</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="97">
<div class="sourceCode" id="cb98"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>] <span class="op">=</span>data[<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>].<span class="bu">apply</span>(duration)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="98">
<div class="sourceCode" id="cb99"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>].describe()</span></code></pre></div>
<div class="output execute_result" data-execution_count="98">
<pre><code>count    233154.000000
mean         16.252404
std          28.581255
min           0.000000
25%           0.000000
50%           0.000000
75%          24.000000
max         468.000000
Name: CREDIT.HISTORY.LENGTH, dtype: float64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="99">
<div class="sourceCode" id="cb101"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>credit_non_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>]</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>credit_default <span class="op">=</span> data[data[<span class="st">&#39;loan_default&#39;</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="100">
<div class="sourceCode" id="cb102"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame([credit_non_default.describe(), credit_default.describe()], index<span class="op">=</span>[<span class="st">&#39;non_defaulters&#39;</span>,<span class="st">&#39;defaulters&#39;</span>])</span></code></pre></div>
<div class="output execute_result" data-execution_count="100">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>non_defaulters</th>
      <td>182543.0</td>
      <td>16.886377</td>
      <td>29.342245</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>24.0</td>
      <td>449.0</td>
    </tr>
    <tr>
      <th>defaulters</th>
      <td>50611.0</td>
      <td>13.965798</td>
      <td>25.519395</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>21.0</td>
      <td>468.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="101">
<div class="sourceCode" id="cb103"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>sns.distplot(data[<span class="st">&#39;CREDIT.HISTORY.LENGTH&#39;</span>])</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/8bc646cb1956135e4ca9e206679e25f55c81bd24.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="102">
<div class="sourceCode" id="cb105"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>new_acct_counts <span class="op">=</span> data[<span class="st">&#39;NEW.ACCTS.IN.LAST.SIX.MONTHS&#39;</span>].value_counts()</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>new_acct_counts_percent <span class="op">=</span>data[<span class="st">&#39;NEW.ACCTS.IN.LAST.SIX.MONTHS&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">&#39;counts&#39;</span>:new_acct_counts,<span class="st">&#39;(%) Percent_Of_Data&#39;</span>:new_acct_counts_percent})</span></code></pre></div>
<div class="output execute_result" data-execution_count="102">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>counts</th>
      <th>(%) Percent_Of_Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>181494</td>
      <td>77.842971</td>
    </tr>
    <tr>
      <th>1</th>
      <td>32099</td>
      <td>13.767295</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11015</td>
      <td>4.724345</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4458</td>
      <td>1.912041</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1957</td>
      <td>0.839359</td>
    </tr>
    <tr>
      <th>5</th>
      <td>964</td>
      <td>0.413461</td>
    </tr>
    <tr>
      <th>6</th>
      <td>480</td>
      <td>0.205873</td>
    </tr>
    <tr>
      <th>7</th>
      <td>302</td>
      <td>0.129528</td>
    </tr>
    <tr>
      <th>8</th>
      <td>147</td>
      <td>0.063048</td>
    </tr>
    <tr>
      <th>9</th>
      <td>79</td>
      <td>0.033883</td>
    </tr>
    <tr>
      <th>10</th>
      <td>55</td>
      <td>0.023590</td>
    </tr>
    <tr>
      <th>11</th>
      <td>31</td>
      <td>0.013296</td>
    </tr>
    <tr>
      <th>12</th>
      <td>20</td>
      <td>0.008578</td>
    </tr>
    <tr>
      <th>13</th>
      <td>15</td>
      <td>0.006434</td>
    </tr>
    <tr>
      <th>14</th>
      <td>11</td>
      <td>0.004718</td>
    </tr>
    <tr>
      <th>16</th>
      <td>6</td>
      <td>0.002573</td>
    </tr>
    <tr>
      <th>17</th>
      <td>6</td>
      <td>0.002573</td>
    </tr>
    <tr>
      <th>20</th>
      <td>3</td>
      <td>0.001287</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
    <tr>
      <th>35</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="103">
<div class="sourceCode" id="cb106"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>delinquent_acct_counts <span class="op">=</span> data[<span class="st">&#39;DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS&#39;</span>].value_counts()</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>delinquent_acct_counts_percent <span class="op">=</span> data[<span class="st">&#39;DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS&#39;</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">&#39;counts&#39;</span>:delinquent_acct_counts,<span class="st">&#39;delinquent_acct_counts&#39;</span>:delinquent_acct_counts_percent})</span></code></pre></div>
<div class="output execute_result" data-execution_count="103">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>counts</th>
      <th>delinquent_acct_counts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>214959</td>
      <td>92.196145</td>
    </tr>
    <tr>
      <th>1</th>
      <td>14941</td>
      <td>6.408211</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2470</td>
      <td>1.059386</td>
    </tr>
    <tr>
      <th>3</th>
      <td>537</td>
      <td>0.230320</td>
    </tr>
    <tr>
      <th>4</th>
      <td>138</td>
      <td>0.059188</td>
    </tr>
    <tr>
      <th>5</th>
      <td>58</td>
      <td>0.024876</td>
    </tr>
    <tr>
      <th>6</th>
      <td>20</td>
      <td>0.008578</td>
    </tr>
    <tr>
      <th>7</th>
      <td>13</td>
      <td>0.005576</td>
    </tr>
    <tr>
      <th>8</th>
      <td>7</td>
      <td>0.003002</td>
    </tr>
    <tr>
      <th>12</th>
      <td>3</td>
      <td>0.001287</td>
    </tr>
    <tr>
      <th>11</th>
      <td>3</td>
      <td>0.001287</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2</td>
      <td>0.000858</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1</td>
      <td>0.000429</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="106">
<div class="sourceCode" id="cb107"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(data.corr())</span></code></pre></div>
<div class="output execute_result" data-execution_count="106">
<pre><code>&lt;AxesSubplot:&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_58b53c8777764baba0cf9c69431cf7fe/f1b3d3b909e7f99821cbc17e9ebb6f307692eaa0.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><em>From the correlation heatmap, Primary and secondary
accounts,credit history, that is new loans in last six months, loans
defaulted in last six months, time since first loan, are not a
significant factor in estimating probability of loan defaulters</em></p>
</div>
<section id="model-building-and-performing-prediction"
class="cell markdown">
<h3>Model Building And Performing Prediction</h3>
</section>
<div class="cell code" data-execution_count="107">
<div class="sourceCode" id="cb109"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>X<span class="op">=</span>data.iloc[:,[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>,<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">21</span>,<span class="dv">22</span>,<span class="dv">23</span>,<span class="dv">24</span>,<span class="dv">25</span>,<span class="dv">26</span>,<span class="dv">27</span>,<span class="dv">28</span>,<span class="dv">29</span>,<span class="dv">30</span>,<span class="dv">31</span>,<span class="dv">32</span>,<span class="dv">33</span>,<span class="dv">34</span>,<span class="dv">35</span>,<span class="dv">36</span>,<span class="dv">39</span>]]</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>y<span class="op">=</span>data.iloc[:,<span class="dv">40</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="108">
<div class="sourceCode" id="cb110"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>X.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="108">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UniqueID</th>
      <th>disbursed_amount</th>
      <th>asset_cost</th>
      <th>branch_id</th>
      <th>supplier_id</th>
      <th>manufacturer_id</th>
      <th>Current_pincode_ID</th>
      <th>Employee_code_ID</th>
      <th>MobileNo_Avl_Flag</th>
      <th>Aadhar_flag</th>
      <th>...</th>
      <th>SEC.ACTIVE.ACCTS</th>
      <th>SEC.OVERDUE.ACCTS</th>
      <th>SEC.CURRENT.BALANCE</th>
      <th>SEC.SANCTIONED.AMOUNT</th>
      <th>SEC.DISBURSED.AMOUNT</th>
      <th>PRIMARY.INSTAL.AMT</th>
      <th>SEC.INSTAL.AMT</th>
      <th>NEW.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS</th>
      <th>NO.OF_INQUIRIES</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>420825</td>
      <td>50578</td>
      <td>58400</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1441</td>
      <td>1998</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>417566</td>
      <td>53278</td>
      <td>61360</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1497</td>
      <td>1998</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>539055</td>
      <td>52378</td>
      <td>60300</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1495</td>
      <td>1998</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>529269</td>
      <td>46349</td>
      <td>61500</td>
      <td>67</td>
      <td>22807</td>
      <td>45</td>
      <td>1502</td>
      <td>1998</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>563215</td>
      <td>43594</td>
      <td>78256</td>
      <td>67</td>
      <td>22744</td>
      <td>86</td>
      <td>1499</td>
      <td>1998</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 32 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="110">
<div class="sourceCode" id="cb111"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>X.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="110">
<pre><code>(233154, 32)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="111">
<div class="sourceCode" id="cb113"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>y.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="111">
<pre><code>(233154,)</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong><em>train test split</em></strong></p>
</div>
<div class="cell code" data-execution_count="121">
<div class="sourceCode" id="cb115"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="112">
<div class="sourceCode" id="cb116"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size <span class="op">=</span> <span class="fl">0.3</span>, random_state <span class="op">=</span><span class="dv">42</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="113">
<div class="sourceCode" id="cb117"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;X_train size: &quot;</span>, X_train.shape)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;X_test size: &quot;</span>, X_test.shape)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>X_train size:  (163207, 32)
X_test size:  (69947, 32)
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="114">
<div class="sourceCode" id="cb119"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> evaluate_model(y_test, y_pred):</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Confusion Matrix: </span><span class="ch">\n</span><span class="st">&quot;</span>, metrics.confusion_matrix(y_test, y_pred))</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Accuracy: &quot;</span>,metrics.accuracy_score(y_test, y_pred))</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Precision: &quot;</span>,metrics.precision_score(y_test, y_pred))</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Recall: &quot;</span>,metrics.recall_score(y_test, y_pred))</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;f1 score: &quot;</span>,metrics.f1_score(y_test, y_pred))</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;roc_auc_score: &quot;</span>,metrics.roc_auc_score(y_test, y_pred))</span></code></pre></div>
</div>
<div class="cell markdown">
<p><strong><em>Scaling data before model training and
testing</em></strong></p>
</div>
<div class="cell code" data-execution_count="116">
<div class="sourceCode" id="cb120"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="117">
<div class="sourceCode" id="cb121"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()  </span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> scaler.transform(X_test)</span></code></pre></div>
</div>
<section id="performing-logistic-regression" class="cell markdown">
<h4>Performing Logistic Regression</h4>
</section>
<div class="cell code" data-execution_count="118">
<div class="sourceCode" id="cb122"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV, RandomizedSearchCV</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> metrics</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="119">
<div class="sourceCode" id="cb123"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">&#39;C&#39;</span>:[<span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="dv">1</span>, <span class="dv">5</span>]}</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>lr <span class="op">=</span> LogisticRegression()</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>grid <span class="op">=</span> GridSearchCV(estimator<span class="op">=</span>lr, param_grid<span class="op">=</span>params)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>grid.fit(X_train, y_train)</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> grid.predict(X_test)</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>evaluate_model(y_test, y_pred)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.7/site-packages/sklearn/linear_model/_logistic.py:818: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  extra_warning_msg=_LOGISTIC_SOLVER_CONVERGENCE_MSG,
/usr/local/lib/python3.7/site-packages/sklearn/linear_model/_logistic.py:818: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  extra_warning_msg=_LOGISTIC_SOLVER_CONVERGENCE_MSG,
/usr/local/lib/python3.7/site-packages/sklearn/linear_model/_logistic.py:818: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  extra_warning_msg=_LOGISTIC_SOLVER_CONVERGENCE_MSG,
</code></pre>
</div>
<div class="output stream stdout">
<pre><code>Confusion Matrix: 
 [[54926   126]
 [14831    64]]
Accuracy:  0.7861666690494231
Precision:  0.3368421052631579
Recall:  0.004296743873783149
f1 score:  0.008485250248591316
roc_auc_score:  0.5010039993437069
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="120">
<div class="sourceCode" id="cb126"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> accuracy_score,precision_score,recall_score,f1_score</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Accuracy score: &#39;</span>,accuracy_score(y_test,y_pred))</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Precision score: &#39;</span>,precision_score(y_test,y_pred))</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Precision score: &#39;</span>,precision_score(y_test,y_pred))</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Recall score: &#39;</span>,recall_score(y_test,y_pred))</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;F1 score: &#39;</span>,f1_score(y_test,y_pred))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Accuracy score:  0.7861666690494231
Precision score:  0.3368421052631579
Precision score:  0.3368421052631579
Recall score:  0.004296743873783149
F1 score:  0.008485250248591316
</code></pre>
</div>
</div>
<div class="cell markdown">
<p><strong><em>---&gt;So, the accuracy for the logistic regression model
is- 78%</em></strong></p>
</div>
<section id="exporting-trained-data-set-for-visualisation-in-tableau"
class="cell markdown">
<h4>Exporting trained data set for visualisation in Tableau</h4>
</section>
<div class="cell code" data-execution_count="122">
<div class="sourceCode" id="cb128"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>data.to_excel(<span class="st">&#39;D:\PGDA\Projects\loan.xlsx&#39;</span>, index<span class="op">=</span> <span class="va">False</span>)</span></code></pre></div>
</div>
<section id="dashboaring" class="cell markdown">
<h2>Dashboaring</h2>
</section>
<section
id="httpspublictableaucomviewscapstoneproject-2loandefaulterdashboard1languageen-usdisplay_countnoriginviz_share_link"
class="cell markdown">
<h4><a
href="https://public.tableau.com/views/CapstoneProject-2LoanDefaulter/Dashboard1"
class="uri">https://public.tableau.com/views/CapstoneProject-2LoanDefaulter/Dashboard1</a>?:language=en-US&amp;:display_count=n&amp;:origin=viz_share_link</h4>
</section>
<div class="cell raw">

</div>
</body>
</html>
